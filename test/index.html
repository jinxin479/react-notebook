<!--
 * @Author: your name
 * @Date: 2019-12-16 14:34:33
 * @LastEditTime: 2019-12-18 16:09:43
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /react-notebook/test/index.html
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    div{
        font-size: 30;
        color: red;
        margin: 20px;
    }
</style>
<body>
    <div id="test" >上课了大家反馈时代峻峰水电费会计</div>
    <div id="test1">上课了大家反馈时代峻峰水电费会计</div>
    <div id="test2">上课了大家反馈时代峻峰水电费会计</div>
    <div id="test3"><span>上课了大家反馈时代峻峰</span>水电落实到积分开始减肥了开始就颠覆了可使肌肤时代峻峰时空裂缝j费会计</div>
    <ul>
        <li>
            <span>a333</span>上课了大家反馈时代峻峰</span>水电落实到积分开始减肥了
            <p>233</p> 
        </li>
        <li>
            <span>aaaa<span>我是孙子</span>上课了大家反馈时代峻峰</span>水电落实到积分开始减肥了 
        </li>
        <li>
            <span>sd444f</span>上课了大家反馈时代峻峰</span>水电落实到积分开始减肥了 
        </li>
        <li>
            <span>sdf</span>上课了大家反馈时代峻峰</span>水电落实到积分开始减肥了 
        </li>
    </ul>
    <button onclick="submit()">点我</button>
    <script>
        function highlightString(style) {

            var range = window.getSelection().getRangeAt(0);
            var startOffset = range.startOffset;
            var endOffset = range.endOffset;
            console.log( window.getSelection())
            // var selectionContents = range.extractContents();
            // var elm = document.createElement("highlight");
            // var id = 1;
            // 
            // elm.appendChild(selectionContents);
            // elm.setAttribute("id", id);
            // elm.setAttribute("onclick","callHighlightURL(this);");
            // elm.setAttribute("class", style);
            
            // range.insertNode(elm);
            
            
    }

    function submit() {
        highlightString('bigass')
    }

   

        // // 寻找test3
        // const node = document.elementFromPoint(100,250)
        // const oRange = document.createRange();
        // console.log(node)
        // console.log(node.textContent)
        // // 元素节点
        // oRange.setStart(node,0);       
        // oRange.setEnd(node, 1); 
        
        
        // const oSpan = document.createElement("span");
        // oSpan.appendChild(document.createTextNode("我插你"));
        // oRange.insertNode(oSpan);
    </script>
</body>
</html>